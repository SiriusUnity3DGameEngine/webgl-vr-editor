(function(){var Ma=Math.imul||function(a,b){return (a*(b>>>16)<<16)+a*(b&65535)|0};var la;function Ra(){var a=xa();onmessage=function(b){var c=a(b.data);postMessage(c,[c.buffer])}}function oa(a){var b;a.a||(a.a=!0,(b=a.a).a=b.a-a.a|0)}function M(b,a){return _(b,1),b.a[b.c]=a,b.c=b.c+1|0,b}function N(b,a){return _(b,4),b.a[b.c]=a,b.a[b.c+1|0]=a>>8,b.a[b.c+2|0]=a>>16,b.a[b.c+3|0]=a>>24,b.c=b.c+4|0,b}function Z(b){var a=b.a[b.d];return b.d=b.d+1|0,a}function O(b){var a=b.a[b.d]|b.a[b.d+1|0]<<8|b.a[b.d+2|0]<<16|b.a[b.d+3|0]<<24;return b.d=b.d+4|0,a}function _(d,a){if(!d.a||(d.c+a|0)>d.a.length){var b=new Float32Array((d.c+a<<1)+3>>2),c=new Uint8Array(b.buffer);d.a&&c.set(d.a),d.b=b,d.a=c}}function $(a){return a.h=!0,a.f}function qa(h,a){h.i||sa(h);for(var b=Ma(h.e,h.g);h.j in h.c;)h.j=(h.j+1|0)%b|0;var c=h.l,d=h.j,e=h.f,g=h.e-1<<3,f=d%h.e|0,k=f+(d-f<<1)<<3;h.b[c]=d,h.c[d]=c,h.h=!0,h.j=(h.j+1|0)%b|0,h.l=h.l+1|0,h.i=h.i-1|0;for(var j=a==-1?255:0,l=0;l<2;l=l+1|0){for(var i=0,n=8;i<n;i=i+1|0)e[k]=j,k=k+1|0;k=k+g|0}return c}
function ra(c,a){var b=c.b[a];delete c.b[a],delete c.c[b],c.i=c.i+1|0}function sa(p){var a=p.e,b=p.g,c=a-1<<3,d=p.f;a<=b?p.e=a<<1:p.g=b<<1;for(var e=p.e,g=p.g,f=e-1<<3,k=new Uint8Array(e*g<<4),j=0,r=Ma(a,b);j<r;j=j+1|0)for(var l=j%a|0,i=j%e|0,h=l+(j-l<<1)<<3,n=i+(j-i<<1)<<3,o=0;o<2;o=o+1|0){for(var s=0,w=8;s<w;s=s+1|0)k[n]=d[h],h=h+1|0,n=n+1|0;h=h+c|0,n=n+f|0}p.f=k,p.k=p.k+1|0,p.h=!0,p.i=p.i+(Ma(e,g)-Ma(a,b)|0)|0}function ta(f,a,b,c,d){var e=a&2047|(b&1023)<<11|(c&2047)<<21,g=v(f.c,e,null);g||(f.c[e]=g=new Ta(a,b,c)),g.d+=Q(d),g.e+=R(d),g.g+=S(d),g.f|=d}function ua(g,a,b,c,d){var e=g.c[a&2047|(b&1023)<<11|(c&2047)<<21];switch(d){case 1:return e.k;case 2:return e.j;case 4:return e.l;case 8:return e.i;case 16:return e.h;case 32:return e.n}return 0}function va(H){for(var a=H.a,b=H.b,J=0,T=ma(H.c),Y=T.length;J<Y;J=J+1|0){var c=T[J],d=c.d,e=c.e,g=c.g,f=1/Math.sqrt(d*d+e*e+g*g);d*=f,e*=f,g*=f;for(var k=c.a*1+d*.001,j=c.b*1+e*.001,l=c.c*1+g*.001,i=c.f,h=0,n=0,o=0,s=0,p=0,w=0,I=0,X=b.length;I<X;I=I+1|0){var r=b[I],x=r.a,z=r.b,C=r.c,F=r.d,q=x-k,t=z-j,u=C-l,A=(-Q(F)|0)*q-R(F)*t-S(F)*u;
if(!(A<0)){var m=1/(q*q+t*t+u*u),y=Math.sqrt(m);if(q*=y,t*=y,u*=y,Ba(a,k,j,l,q,t,u,wa)&&!(wa.f*y<1)){var D=r.e*A*y*m;i&1&&q<0&&(h-=D*q),i&2&&q>0&&(n+=D*q),i&4&&t<0&&(o-=D*t),i&8&&t>0&&(s+=D*t),i&16&&u<0&&(p-=D*u),i&32&&u>0&&(w+=D*u)}}}c.k=i&1?Math.sqrt(h):0,c.j=i&2?Math.sqrt(n):0,c.l=i&4?Math.sqrt(o):0,c.i=i&8?Math.sqrt(s):0,c.h=i&16?Math.sqrt(p):0,c.n=i&32?Math.sqrt(w):0}}function xa(){var a=new Qa(null),b=new Wa(null,null,null,a);return function(c){return Aa(b,c),Da(b)?new Uint8Array(0):(Ca(b),new Uint8Array($(a)))}}function ca(a){return a.a&7|(a.b&7)<<3|(a.c&7)<<6|a.d<<9|a.e<<12}function Ga(g,a,b,c,d){var h,i,l,j,k,f,e=a|b<<3|c<<6;return g.e[e]^d?(g.e[e]=d,B(g),a?a^7||(k=g.f)&&B(k):(f=g.g)&&B(f),b?b^7||(l=g.j)&&B(l):(j=g.k)&&B(j),c?c^7||(h=g.i)&&B(h):(i=g.l)&&B(i),1):0}function B(a){var b;a.o=!0,(b=a.n)&&oa(b),a.n=null}function Ha(m){if(!m.o)return 0;var a={},b=m.b,c=m.c,d=m.d,e=m.e,g=m.g,f=m.f,k=m.k,j=m.j,l=m.l,i=m.i,h=0;if(m.h)for(var y=0,D=m.h,H=D.length;y<H;y=y+1|0){var n=D[y];a[ca(n)]=n.k}m.h=[],m.o=!1;
for(var o=0;o<8;o=o+1|0)for(var s=0;s<8;s=s+1|0)for(var p=0;p<8;p=p+1|0){var w=e[h];if(w==1){var r=b+p|0,x=c+s|0,z=d+o|0,C=p>0?e[h-1|0]:g?g.e[h^7]:0,F=s>0?e[h-8|0]:k?k.e[h^56]:0,q=o>0?e[h-64|0]:l?l.e[h^448]:0,t=p<7?e[h+1|0]:f?f.e[h^7]:0,u=s<7?e[h+8|0]:j?j.e[h^56]:0,A=o<7?e[h+64|0]:i?i.e[h^448]:0;C^1&&E(m,r,x,z,2,4,2,P[C],a),F^1&&E(m,r,x,z,4,1,8,P[F],a),q^1&&E(m,r,x,z,1,2,32,P[q],a),t^1&&E(m,r+1|0,x,z,4,2,1,P[t],a),u^1&&E(m,r,x+1|0,z,1,4,4,P[u],a),A^1&&E(m,r,x,z+1|0,2,1,16,P[A],a)}h=h+1|0}return na(a,m.a.d),1}function E(h,a,b,c,d,e,g,f,k){var j=new Xa(a,b,c,d,e,g,f),l=ca(j),i=v(k,l,-1);i!=-1?(j.k=i,delete k[l]):j.k=qa(h.a,f),h.h.push(j)}function ya(e,a,b,c){var d=v(e.e,a>>3&2047|b<<8&2095104|c<<18&-2097152,null);return d?d.e[a&7|(b&7)<<3|(c&7)<<6]:0}function za(o,a,b,c,d){var e=a>>3&2047|b<<8&2095104|c<<18&-2097152,g=o.e,f=v(g,e,null);if(!f&&d){if(!Fa(a,b,c))return;f=new Ya(o.d,a&-8,b&-8,c&-8);var k=v(g,a-8>>3&2047|b<<8&2095104|c<<18&-2097152,null),j=v(g,a+8>>3&2047|b<<8&2095104|c<<18&-2097152,null),l=v(g,a>>3&2047|b-8<<8&2095104|c<<18&-2097152,
null),i=v(g,a>>3&2047|b+8<<8&2095104|c<<18&-2097152,null),h=v(g,a>>3&2047|b<<8&2095104|c-8<<18&-2097152,null),n=v(g,a>>3&2047|b<<8&2095104|c+8<<18&-2097152,null);k&&(f.g=k,k.f=f),j&&(f.f=j,j.g=f),l&&(f.k=l,l.j=f),i&&(f.j=i,i.k=f),h&&(f.l=h,h.i=f),n&&(f.i=n,n.l=f),g[e]=f,o.g.push(f)}f&&Ga(f,a&7,b&7,c&7,d)==1&&M(N(N(N(M(o.f,0),a),b),c),d)}function Aa(g,a){for(var b=new Na.pa(a);b.d<b.c;)switch(Z(b)){case 0:var c=O(b),d=O(b),e=O(b);za(g,c,d,e,Z(b));break;case 1:Ea(g);break}}function Ba(y,a,b,c,d,e,g,f){var k=f.a=Math.floor(a)|0,j=f.b=Math.floor(b)|0,l=f.c=Math.floor(c)|0;f.d=f.e=f.g=0;for(var i=(k-a)/d,h=(j-b)/e,n=(l-c)/g,o=((k+1|0)-a)/d,s=((j+1|0)-b)/e,p=((l+1|0)-c)/g,w=d>0?1:d<0?-1:0,r=e>0?1:e<0?-1:0,x=g>0?1:g<0?-1:0,z=w/d,C=r/e,F=x/g,q=i>o?i:o,t=h>s?h:s,u=n>p?n:p,A=0,m=0;m<1000;m=m+1|0)if(f.f=q<t?q<u?q:u:t<u?t:u,f.f==q?(f.a=f.a+w|0,q+=z,A=0):f.f==t?(f.b=f.b+r|0,t+=C,A=1):(f.c=f.c+x|0,u+=F,A=2),ya(y,f.a,f.b,f.c)^1)return A?A^1?f.g=-x|0:f.e=-r|0:f.d=-w|0,!0;return!1}function Ca(ia){for(var a=new Sa(ia),b=[],V=0,ka=ia.g,Ja=ka.length;V<Ja;V=V+1|0)for(var c=ka[V],U=0,ja=c.h,Ia=ja.length;U<Ia;U=U+1|0){
for(var d=ja[U],e=d.a,g=d.b,f=d.c,k=d.d,j=d.e,l=d.g,i=k&1,h=k>>1&1,n=k>>2,o=j&1,s=j>>1&1,p=j>>2,w=0;w<2;w=w+1|0)for(var r=0;r<2;r=r+1|0)ta(a,(e+Ma(i,r)|0)+Ma(o,w)|0,(g+Ma(h,r)|0)+Ma(s,w)|0,(f+Ma(n,r)|0)+Ma(p,w)|0,l);d.f==-1?a.b.push(new Ua(d.a+(i+o|0)*.5+Q(l)*.01,d.b+(h+s|0)*.5+R(l)*.01,d.c+(n+p|0)*.5+S(l)*.01,l,.5)):b.push(d)}va(a);for(var x=ia.d,z=x.e,C=$(x),F=z-1<<3,W=0,Ka=b.length;W<Ka;W=W+1|0)for(var q=b[W],t=q.a,u=q.b,A=q.c,m=q.d,y=q.e,D=q.g,H=m&1,I=m>>1&1,X=m>>2,J=y&1,T=y>>1&1,Y=y>>2,da=x.b[q.k],ea=da%z|0,G=ea+(da-ea<<1)<<3,aa=q.f,K=0;K<2;K=K+1|0){for(var L=0;L<2;L=L+1|0){var ba=ua(a,(t+Ma(H,L)|0)+Ma(J,K)|0,(u+Ma(I,L)|0)+Ma(T,K)|0,(A+Ma(X,L)|0)+Ma(Y,K)|0,D),fa=ba*(aa&255)|0,ga=ba*(aa>>8&255)|0,ha=ba*(aa>>16&255)|0;C[G]=fa<255?fa:255,C[G+1|0]=ga<255?ga:255,C[G+2|0]=ha<255?ha:255,C[G+3|0]=255,G=G+4|0}G=G+F|0}}function Da(b){for(var c=0,d=b.g,e=d.length;c<e;c=c+1|0){var a=d[c];if(a.o)return!0}return!1}function Ea(c){for(var a=!1,d=0,e=c.g,g=e.length;d<g;d=d+1|0){var b=e[d];Ha(b)^1||(a=!0)}a&&M(c.f,1)}function Fa(a,b,c){
return a==a<<18>>18&&b==b<<19>>19&&c==c<<18>>18}function ma(c){var a=[];for(var b in c)a.push(c[b]);return a}function v(d,a,b){var c=d[a];return c!==void 0?c:b}function na(c,a){for(var b in c)a(b|0,c[b])}function Q(a){return (a==2|0)-(a==1|0)|0}function R(a){return (a==8|0)-(a==4|0)|0}function S(a){return (a==32|0)-(a==16|0)|0}function Na(){this.a=this.b=null,this.c=this.d=0}Na.pa=function(a){this.a=this.b=null,this.d=0,this.c=a.length,this.b=new Float32Array(this.c+3>>2),this.a=new Uint8Array(this.b.buffer),this.a.set(a)};Na.pa.prototype=Na.prototype;function Qa(a){var d=this;d.a=null,d.b={},d.c={},d.d=null,d.e=d.g=16,d.f=new Uint8Array(4096),d.k=d.j=d.l=0,d.i=256,d.h=!1,d.a=a&&new Oa(a,La,32,32,null),d.d=function(b,c){ra(d,c)}}function Sa(a){this.a=a,this.b=[],this.c={}}function Va(){this.a=this.b=this.c=this.d=this.e=this.g=0,this.f=0}function Wa(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.e={},this.g=[],this.f=new Na}function Pa(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function Oa(a,b,c,d,e){this.a=a,
this.b=b,this.c=c,this.d=d,this.e=e,this.g=this.f=null,this.k=0,this.j=this.l=!0}function Ta(a,b,c){this.a=a,this.b=b,this.c=c,this.d=this.e=this.g=0,this.f=0,this.k=this.j=this.l=this.i=this.h=this.n=0}function Ua(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function Xa(a,b,c,d,e,g,f){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e,this.g=g,this.f=f,this.k=-1}function Ya(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.e=new Uint8Array(512),this.g=this.f=this.k=this.j=this.l=this.i=this.h=this.n=null,this.o=!0,this.s=0}var La=new Pa(0,1,1,1),wa=new Va,P=[-4210753,0,-1,-16777025,-2162688];Ra()})();
