(function(){var fb=Object.create||function(a){return{__proto__:a}};function Vc(a,b){a.prototype=fb(b.prototype),a.prototype.constructor=a}var Wc=Math.imul||function(a,b){return (a*(b>>>16)<<16)+a*(b&65535)|0};var la;function sd(){var a=new XMLHttpRequest;a.open('GET','level.lvl'),a.responseType='arraybuffer',a.onload=function(){kc(new Uint8Array(a.response))},a.send()}function kc(a){var b=null;try{b=new cd}catch(Dd){throw Dd}finally{b||alert('Could not initialize WebGL')}var c=F.body,d=b.j.canvas,e=d.style,f=new Yc(b,a),g={},h=bb(),i=function(){var k=innerWidth,n=innerHeight,l=devicePixelRatio;vb(b,Math.round(k*l)|0,Math.round(n*l)|0)},j=function(){var p=bb(),r=(D(g,39,0)|D(g,68,0))-(D(g,37,0)|D(g,65,0))|0,s=(D(g,40,0)|D(g,83,0))-(D(g,38,0)|D(g,87,0))|0;C(f.j.a,r,0,s),f.A=Bc(Ba),Kb(f,(p-h)/1000),Jb(f),h=p,requestAnimationFrame(j)},t=function(o){T(o),f.j.b=Ca(o.touches).length!=0,Ec(d)},w=function(G,K){T(G),Fb(f,K,G.shiftKey)},x=null,N=function(ka){x&&x.parentNode.removeChild(x),x=F.createElement('input'),x.type='file',
v(x,'change',function(P){var M=Ca(x.files);if(M.length==1){var H=new FileReader;H.onload=function(){ka(new Uint8Array(H.result))},H.readAsArrayBuffer(M[0])}}),c.appendChild(x),x.click()};e.position='fixed',e.left=e.top='0',e.width=e.height='100%',c.appendChild(d),v(F,'keydown',function(A){var z=A.which,ba=A.shiftKey;g[z]=1,!A.ctrlKey&&!A.metaKey?z>64&&z<91?w(A,z-58|0):z>47&&z<58?w(A,z-15|0):z==8||z==49?w(A,0):z^37?z^38?z^39?z^40||w(A,6):w(A,5):w(A,4):w(A,3):(z^79?z^83?z^89?z^90||w(A,ba?2:1):w(A,2):(T(A),Lb(f)):(T(A),N(function(Z){Ya(f.e,new bd.La(Z))})),g={})}),v(F,'keyup',function(_){g[_.which]=0}),v(Ba,'blur',function(eb){g={},f.j.c=!1}),v(F,'mousedown',function(U){T(U),cb(F)!=d?Fc(d):f.j.c=!0}),v(F,'mouseup',function(td){f.j.c=!1}),v(F,'mousemove',function(lc){cb(F)==d&&Ib(f,Cc(lc),Dc(lc))}),v(F,'touchstart',t),v(F,'touchmove',t),v(F,'touchend',t),v(F,'touchcancel',t),v(Ba,'devicemotion',function(Pc){var ma=Pc.rotationRate,ib=ma?ma.alpha:null,jb=ma?ma.beta:null,kb=ma?ma.gamma:null;ib!==null&&jb!==null&&kb!==null&&Hb(f,
ib,jb,kb)}),v(Ba,'deviceorientation',function(lb){var mb=lb.alpha,nb=lb.beta,ob=lb.gamma;mb!==null&&nb!==null&&ob!==null&&Gb(f,mb,nb,ob)}),v(Ba,'resize',function(){i()}),i(),j()}function ia(d,a,b,c){return d.a.push(new ld(a,b,c,d.b)),d.b=d.b+Wc(c,b?1:4)|0,d}function qa(g,a,b){if(!b.length)return null;for(var c=a.b,h=0,i=g.b,k=i.length;h<k;h=h+1|0){var d=i[h],e=Ia(d,c,b);if(e)return e}var f=new _c(g,new jd(g.a,1<<22));return g.b.push(f),Ia(f,c,b)}function Ia(k,a,b){var c=b.length,d=k.c,e=null;if((k.d+c|0)<=1<<22){for(;d.length&&Ha(d).e;)d.pop();if(d.length){var f=Ha(d),g=ra(f.d+f.b|0,a);(g+c|0)<=1<<22&&(e=new $c(k,c,a,g))}if(!e){var h=0;Cb(d,function(i){return i.e?!0:(h=ra(h,a),i.d^h&&(yb(k.b,i.d,h,i.b),i.d=h,h=h+i.b|0),!1)}),h=ra(h,a),(h+c|0)<=1<<22&&(e=new $c(k,c,a,h))}e&&(zb(k.b,b,e.d),k.d=k.d+c|0,d.push(e))}return e}function ra(a,b){return a+((b-(a%b|0)|0)%b|0)|0}function sa(a){var b;a.e||(a.e=!0,(b=a.a).d=b.d-a.b|0)}function V(f,a,b,c,d,e){f.d=a|b<<8|c<<16|d<<24,f.b=e}function oa(f,a,b,c,d){var e=f.g?f.g.a:f.h;
e[0]=a,e[1]=b,e[2]=c,e[3]=d}function $(e,a,b,c,d){c&&(Oa(e),Zb(b),_b(c.a.b),Tb(e,b.b),Rb(e,d),Pa(e),Sb(e),e.j.drawArrays(a^2?a?4:1:5,c.d/c.c|0,c.b/c.c|0),e.n=!1)}function Rb(b,a){a==1&&!b.f?(b.f=!0,b.j.enable(2884)):!a&&b.f&&(b.f=!1,b.j.disable(2884))}function vb(d,a,b){if(d.K^a||d.p^b){var c=d.j.canvas;c.width=a,c.height=b,oa(d,0,0,a,b),d.K=a,d.p=b}}function Ea(b,a){Oa(b),Pa(b),b.j.clear((a^2?16384:0)|(a^1?1280:0))}function pa(e,a,b,c){var d=new id(e,a,b,c);return ta(d),d}function wb(i,a,b){var c=new kd(i,a,1,1,null);return Ub(i,b,function(d,e,f){if(!a.a){for(var g=Wc(d,e),h=0;h<g;h=h+1|0)f[h]=f[h<<2];f=f.subarray(0,g)}Ab(c,d,e,f)}),c}function Oa(e){var a=e.g,b=a?a.a:e.h,c=e.G,d=e.j;(e.n||e.w!=a)&&(d.bindFramebuffer(36160,a&&ac(a)),e.w=a),(e.n||!Db(c,b))&&(d.viewport(b[0],b[1],b[2],b[3]),c[0]=b[0],c[1]=b[1],c[2]=b[2],c[3]=b[3])}function Pa(i){if(i.n||i.t^i.d||i.s!=i.b){var a=i.j,b=i.d,c=i.t,d=b&255,e=b>>8&255,f=b>>16&255,g=b>>24,h=i.b;b^16777472?((i.n||c==16777472)&&a.colorMask(!0,!0,!0,!0),b^65537?((i.n||c==65537||c==16777472)&&a.enable(3042),
a.blendFuncSeparate(i.c[d],i.c[e],i.c[f],i.c[g]),a.blendColor(h,h,h,h)):a.disable(3042)):a.colorMask(!1,!1,!1,!1),i.t=b,i.s=i.b}}function Sb(c){var a=c.o,b=c.i;(c.n||a^b)&&(b?((c.n||!a)&&c.j.enable(2929),c.j.depthMask(b==2)):c.j.disable(2929),c.o=b)}function Tb(h,a){for(var b=h.j,c=a.a,d=c.length,e=0;e<d;e=e+1|0){var f=c[e],g=f.b==1;b.vertexAttribPointer(e,f.c,g?5121:5126,g,a.b,f.d)}for(;h.a<d;)b.enableVertexAttribArray(h.a),h.a=h.a+1|0;for(;h.a>d;)h.a=h.a-1|0,b.disableVertexAttribArray(h.a);h.a=d}function Ub(h,a,b){var c=new Image;c.onload=function(){var d=c.width,e=c.height,f=h.r||(h.r=Ac(F.createElement('canvas'))),g=f.canvas;g.width=d,g.height=e,f.drawImage(c,0,0),b(d,e,new Uint8Array(f.getImageData(0,0,d,e).data.buffer))},c.src=a}function ha(b){var a=b.a.a;return b.c^a.l&&(b.d=a.j.getUniformLocation(ta(b.a),b.b),b.c=a.l),b.d}function Vb(b,a){a!=b.f&&(b.f=a,b.e=!0)}function Wb(e,a,b,c,d){(a!=e.g||b!=e.h||c!=e.i||d!=e.k)&&(e.g=a,e.h=b,e.i=c,e.k=d,e.e=!0)}function Xb(b,a){nc(b.n,a)||(wa(b.n,a),b.e=!0)}function Yb(c,a,b){
(c.l!=a||c.j^b)&&(c.l=a,c.j=b,c.e=!0)}function aa(d,a,b){var c=ca(d.e,a,null);c||(c=new ed(d,a),d.e[a]=c,d.f.push(c)),Vb(c,b)}function W(g,a,b,c,d,e){var f=ca(g.e,a,null);f||(f=new fd(g,a),g.e[a]=f,g.f.push(f)),Wb(f,b,c,d,e)}function Fa(d,a,b){var c=ca(d.e,a,null);c||(c=new gd(d,a),d.e[a]=c,d.f.push(c)),Xb(c,b)}function xb(e,a,b,c){var d=ca(e.e,a,null);d||(d=new hd(e,a),e.e[a]=d,e.f.push(d)),Yb(d,b,c)}function ta(d){var a=d.a.j;if(d.g^d.a.l){d.h=a.createProgram(),Qa(d,a,35633,d.c),Qa(d,a,35632,d.d);for(var b=d.b.a,c=0,e=b.length;c<e;c=c+1|0)a.bindAttribLocation(d.h,c,b[c].a);if(a.linkProgram(d.h),!a.getProgramParameter(d.h,35714))throw new Error(a.getProgramInfoLog(d.h));d.g=d.a.l}return d.h}function Zb(b){b.a.j.useProgram(ta(b));for(var c=0,d=b.f,e=d.length;c<e;c=c+1|0){var a=d[c];a.pb()}}function Qa(e,a,b,c){var d=a.createShader(b);if(a.shaderSource(d,c),a.compileShader(d),!a.getShaderParameter(d,35713))throw new Error(a.getShaderInfoLog(d));a.attachShader(e.h,d)}function yb(d,a,b,c){a^b&&c&&(d.d.set(d.d.subarray(a,
d.k),b),Ra(d,Math.min(a,b),Math.max(a,b)+c|0))}function zb(c,a,b){c.d.set(a,b),Ra(c,b,b+a.length|0)}function _b(b){var a=b.a.j;b.b^b.a.l&&(b.c=a.createBuffer(),b.b=b.a.l,b.e=!0),a.bindBuffer(34962,b.c),b.e&&(a.bufferData(34962,b.k,35048),b.f=b.h,b.g=b.i,b.e=!1),b.f<b.g&&(a.bufferSubData(34962,b.f,b.d.subarray(b.f,b.g)),b.f=2147483647,b.g=0)}function Ra(c,a,b){c.f=Math.min(c.f,a),c.g=Math.max(c.g,b),c.h=Math.min(c.h,a),c.i=Math.max(c.i,b)}function Ab(d,a,b,c){(a^d.c||b^d.d||c)&&(d.c=a,d.d=b,d.e=c,d.k=!0)}function Sa(c){var a=c.a.j;if(c.h^c.a.l&&(c.g=a.createTexture(),c.h=c.a.l,c.i=c.k=!0),c.i&&(a.bindTexture(3553,c.g),a.texParameteri(3553,10240,c.a.k[c.b.c]),a.texParameteri(3553,10241,c.a.k[c.b.b]),a.texParameteri(3553,10242,c.b.d?33071:10497),a.texParameteri(3553,10243,c.b.d?33071:10497),c.i=!1),c.k){var b=c.b.a?6408:6409;a.bindTexture(3553,c.g),a.texImage2D(3553,0,b,c.c,c.d,0,b,5121,c.e),c.b.b^2||a.generateMipmap(3553),c.k=!1}return c.g}function $b(b){var a=b.a.j;return b.h^b.a.l&&(b.f=a.createRenderbuffer(),
b.h=b.a.l,b.k=!0),b.k&&(a.bindRenderbuffer(36161,b.f),a.renderbufferStorage(36161,34041,b.c,b.d),b.k=!1),b.f}function ac(b){var a=b.a.j;return b.a^b.a.l&&(b.a=a.createFramebuffer(),b.a=b.a.l,b.a=!0),b.a&&(a.bindFramebuffer(36160,b.a),a.framebufferTexture2D(36160,36064,3553,Sa(b.a),0),b.a&&a.framebufferRenderbuffer(36160,33306,36161,$b(b.a)),b.a=!1),b.a}function Fb(d,a,b){if(a^22)d.i.sb(a,b);else{var c=d.i.Da();d.i=d.i instanceof Rc?d.g:d.h,d.i.rb(c),d.f.style.display=d.i instanceof Sc?'none':'block'}}function Gb(d,a,b,c){d.w=a,d.K=b,d.N=c,d.P=!0}function Hb(d,a,b,c){d.G=a,d.x=b,d.ka=c}function Ib(c,a,b){c.H+=a*.005,c.H-=Math.floor(c.H/6.283185307179586)*6.283185307179586,c.M=Bb(c.M+b*.005,-1.5707963267948966,1.5707963267948966)}function Jb(a){a.l=a.A==0?a.k:a.n||(a.n=new od(a.a,a,a.b)),a.l.qb()}function na(e,a,b,c){var d=e.i.Da();B(B(B(B(va(e.r),xa(X,a^1?a^2?0:-.1:.1,0,0)),xa(X,0,0,-10)),e.o),xa(X,-d.a,-d.b,-d.c)),xb(c,'w',e.c,0),Fa(c,'s',e.r),Fa(c,'t',b),W(c,'h',e.o.i,e.o.k,e.o.n,d.a*e.o.i+d.b*e.o.k+d.c*e.o.n+10-3),
C(e.t,d.a+e.o.i*10,d.b+e.o.k*10,d.c+e.o.n*10),e.i.tb(e.d),vc(e.e,c,e.t,e.o),jc(e.d,c)}function Kb(b,a){b.P?(b.w+=b.G*a,b.K+=b.x*a,b.N+=b.ka*a,B(B(B(B(B(va(b.o),O(X,0,0,1,b.A*.017453292519943295)),O(X,0,1,0,-b.N*.017453292519943295)),O(X,1,0,0,-b.K*.017453292519943295)),O(X,0,0,1,-b.w*.017453292519943295)),O(X,1,0,0,1.5707963267948966))):B(B(va(b.o),O(X,1,0,0,b.M)),O(X,0,1,0,b.H)),b.i.ub(b.j,b.o,a),b.p=b.p*.9+.1/a,Ba.top.document.title=b.p.toFixed(1)+'fps'}function Lb(c){var a=URL.createObjectURL(new Blob([da(wc(c.e))])),b=F.createElement('a');F.body.appendChild(b),b.download='level.lvl',b.href=a,b.click(),F.body.removeChild(b),setTimeout(function(){URL.revokeObjectURL(a)},1000)}function Ja(a){return a.a+a.d*.5}function Mb(a){return a.b+a.e*.5}function Ka(a){return a.c+a.f*.5}function Nb(e,a,b,c,d){Ob(e,a,b),Pb(e,a,c),Qb(e,a,d)}function Ob(j,a,b){var c=Math.floor(j.a)|0,d=Math.floor(j.b)|0,e=Math.floor(j.c)|0,f=(Math.ceil(j.a+j.d)|0)-1|0,g=(Math.ceil(j.b+j.e)|0)-1|0,h=(Math.ceil(j.c+j.f)|0)-1|0;if(j.a+=b,b<0){for(var i=Math.floor(j.a)|0,k=c-1|0;k>=i;k=k-1|0)if(!R(a,
k,d,e,k,g,h)){j.a=1.001+k;break}}else if(b>0)for(var n=(Math.ceil(j.a+j.d)|0)-1|0,l=f+1|0;l<=n;l=l+1|0)if(!R(a,l,d,e,l,g,h)){j.a=l-j.d-.001;break}}function Pb(j,a,b){var c=Math.floor(j.a)|0,d=Math.floor(j.b)|0,e=Math.floor(j.c)|0,f=(Math.ceil(j.a+j.d)|0)-1|0,g=(Math.ceil(j.b+j.e)|0)-1|0,h=(Math.ceil(j.c+j.f)|0)-1|0;if(j.b+=b,b<0){for(var i=Math.floor(j.b)|0,k=d-1|0;k>=i;k=k-1|0)if(!R(a,c,k,e,f,k,h)){j.b=1.001+k;break}}else if(b>0)for(var n=(Math.ceil(j.b+j.e)|0)-1|0,l=g+1|0;l<=n;l=l+1|0)if(!R(a,c,l,e,f,l,h)){j.b=l-j.e-.001;break}}function Qb(j,a,b){var c=Math.floor(j.a)|0,d=Math.floor(j.b)|0,e=Math.floor(j.c)|0,f=(Math.ceil(j.a+j.d)|0)-1|0,g=(Math.ceil(j.b+j.e)|0)-1|0,h=(Math.ceil(j.c+j.f)|0)-1|0;if(j.c+=b,b<0){for(var i=Math.floor(j.c)|0,k=e-1|0;k>=i;k=k-1|0)if(!R(a,c,d,k,f,g,k)){j.c=1.001+k;break}}else if(b>0)for(var n=(Math.ceil(j.c+j.f)|0)-1|0,l=h+1|0;l<=n;l=l+1|0)if(!R(a,c,d,l,f,g,l)){j.c=l-j.f-.001;break}}function da(a){return a.a.subarray(0,a.c)}function m(b,a){return ga(b,4),b.b[b.c>>2]=a,b.c=b.c+4|0,b}
function L(b,a){return ga(b,4),b.a[b.c]=a&255,b.a[b.c+1|0]=a>>8&255,b.a[b.c+2|0]=a>>16&255,b.a[b.c+3|0]=a>>>24,b.c=b.c+4|0,b}function Ma(b,a){return ga(b,1),b.a[b.c]=a,b.c=b.c+1|0,b}function ea(b,a){return ga(b,4),b.a[b.c]=a,b.a[b.c+1|0]=a>>8,b.a[b.c+2|0]=a>>16,b.a[b.c+3|0]=a>>24,b.c=b.c+4|0,b}function Na(b){var a=b.a[b.d];return b.d=b.d+1|0,a}function fa(b){var a=b.a[b.d]|b.a[b.d+1|0]<<8|b.a[b.d+2|0]<<16|b.a[b.d+3|0]<<24;return b.d=b.d+4|0,a}function ga(d,a){if(!d.a||(d.c+a|0)>d.a.length){var b=new Float32Array((d.c+a<<1)+3>>2),c=new Uint8Array(b.buffer);d.a&&c.set(d.a),d.b=b,d.a=c}}function bc(a){for(var b=new bd,c=new zd,d=new zd,e=0;e<8;e=e+1|0)for(var f=0;f<9;f=f+1|0){var g=f*.125,h=.05+g*.9,i=g*3-1,k=e<4?1:0;e?e^1?e^2?e^3?e^4?e^5?e^6?(u(c,-1,i),u(d,0,g)):(u(c,2,i),u(d,1,g)):(u(c,i,-1),u(d,g,0)):(u(c,i,2),u(d,g,1)):(u(c,.05,h),u(d,0,g)):(u(c,.95,h),u(d,1,g)):(u(c,h,.05),u(d,g,0)):(u(c,h,.95),u(d,g,1)),a(c),a(d),m(b,c.a*2-1),m(b,c.b*2-1),m(b,k),f||(m(b,c.a*2-1),m(b,c.b*2-1),m(b,k)),m(b,d.a*2-1),m(b,d.b*2-1),
m(b,0),f^8||(m(b,d.a*2-1),m(b,d.b*2-1),m(b,0))}return b}function Ta(a){return a.a||(a.a=dc(a.f)),a.a}function Ua(){var a=navigator.userAgent,b=screen.width,c=screen.height,d=b<c?b:c,e=b<c?c:b;return~a.indexOf('iPhone')?d==480&&e==320?Mc:d==568&&e==320?Nc:d==667&&e==375?hb:d==736&&e==414?Oc:null:~a.indexOf('Nexus 5')?Jc:~a.indexOf('Nexus 6')?Kc:~a.indexOf('LG-')?Lc:null}function E(a,b){for(var c=a.length,d=b*b,e=0,f=0;f<c;f=f+1|0)e=d*(e+a[(c-f|0)-1|0]);return b*(e+1)}function dc(a){for(var b=[],c=[],d=0;d<100;d=d+1|0){for(var e=(d+1|0)*1/100,f=E(a,e),g=f,h=[],i=0;i<4;i=i+1|0)g*=f*f,h.push(g);b.push(h),c.push(e-f)}return ec(b,c)}function ec(a,b){for(var c=a.length,d=a[0].length,e=[],f=0;f<d;f=f+1|0){for(var g=[],h=0;h<d;h=h+1|0){for(var i=0,k=0;k<c;k=k+1|0)i+=a[k][f]*a[k][h];g.push(i)}e.push(g)}for(var n=[],l=0;l<d;l=l+1|0){for(var j=0,p=0;p<c;p=p+1|0)j+=a[p][l]*b[p];n.push(j)}return fc(e,n)}function fc(a,b){for(var c=a.length,d=0,j=c-1|0;d<j;d=d+1|0)for(var e=d+1|0;e<c;e=e+1|0){for(var f=a[e],g=f[d]/a[d][d],h=d+1|0;h<c;h=h+1|0)f[h]=f[h]-g*a[d][h];
b[e]=b[e]-g*b[d]}var i=[];Ga(i,c,0);for(var k=c-1|0;k>-1;k=k-1|0){for(var n=b[k],l=k+1|0;l<c;l=l+1|0)n-=a[k][l]*i[l];i[k]=n/a[k][k]}return i}function ua(a,b){return a.e-b.c-b.b/2}function gc(a,b){var c=Math.tan(-a.d[0]*.017453292519943295),d=Math.tan(a.d[3]*.017453292519943295),e=Math.tan(a.d[1]*.017453292519943295),f=Math.tan(-a.d[2]*.017453292519943295),g=b.a/4,h=b.b/2,i=a.c/2-g,k=-ua(a,b),n=a.b,l=E(a.f,(i-g)/n),j=E(a.f,(k+h)/n),p=E(a.f,(i+g)/n),r=E(a.f,(k-h)/n);return[Math.max(c,l),Math.min(d,j),Math.min(e,p),Math.max(f,r)]}function hc(a,b){var c=Ta(a),d=E(c,Math.tan(-a.d[0]*.017453292519943295)),e=E(c,Math.tan(a.d[3]*.017453292519943295)),f=E(c,Math.tan(a.d[1]*.017453292519943295)),g=E(c,Math.tan(-a.d[2]*.017453292519943295)),h=b.a/4,i=b.b/2,k=a.c/2-h,n=-ua(a,b),l=a.b,j=(k-h)/l,p=(n+i)/l,r=(k+h)/l,s=(n-i)/l;return[Math.max(d,j),Math.min(e,p),Math.min(f,r),Math.max(g,s)]}function ic(a,b,c){var d=a.b,e=(b.a-a.c)/2,f=ua(a,b)+b.b/2,g=(c[0]*d+e)/b.a,h=(c[1]*d+f)/b.b,i=(c[2]*d+e)/b.a,k=(c[3]*d+f)/b.b;return[g,k,
i-g,h-k]}function y(n,a,b,c,d,e,f,g){var h=(a+d)*.5,i=(b+e)*.5,k=(c+f)*.5;m(J,a),m(J,b),m(J,c),m(J,h),m(J,i),m(J,k),L(J,g),m(J,d),m(J,e),m(J,f),m(J,h),m(J,i),m(J,k),L(J,g)}function Va(h,a,b,c,d,e,f,g){y(h,a,b,c,d,b,c,g),y(h,a,b,c,a,e,c,g),y(h,a,b,c,a,b,f,g),y(h,d,b,c,d,e,c,g),y(h,a,e,c,a,e,f,g),y(h,a,b,f,d,b,f,g),y(h,d,b,c,d,b,f,g),y(h,a,e,c,d,e,c,g),y(h,a,b,f,a,e,f,g),y(h,d,e,f,a,e,f,g),y(h,d,e,f,d,b,f,g),y(h,d,e,f,d,e,c,g)}function jc(c,a){if(J.c){var b=qa(c.b,a.b,da(J));$(c.a,0,a,b,0),sa(b),J.c=0}}function va(a){return wa(a,Qc),a}function wa(b,a){return b.a=a.a,b.b=a.b,b.c=a.c,b.d=a.d,b.e=a.e,b.f=a.f,b.g=a.g,b.h=a.h,b.i=a.i,b.k=a.k,b.n=a.n,b.l=a.l,b.j=a.j,b.p=a.p,b.r=a.r,b.s=a.s,b}function xa(d,a,b,c){return d.d=a,d.h=b,d.l=c,d.a=d.f=d.n=d.s=1,d.b=d.c=d.e=d.g=d.i=d.k=d.j=d.p=d.r=0,d}function O(h,a,b,c,d){var e=Math.cos(d),f=Math.sin(d),g=1-e;return h.a=a*a*g+e,h.b=a*b*g-c*f,h.c=a*c*g+b*f,h.e=b*a*g+c*f,h.f=b*b*g+e,h.g=b*c*g-a*f,h.i=c*a*g-b*f,h.k=c*b*g+a*f,h.n=c*c*g+e,h.s=1,h.d=h.h=h.l=h.j=h.p=h.r=0,h}function mc(g,a,b,c,d){
var e=Math.tan(a/2)*c,f=e*b;return Wa(g,-f,f,-e,e,c,d)}function Wa(g,a,b,c,d,e,f){return g.a=e*2/(b-a),g.c=(b+a)/(b-a),g.f=e*2/(d-c),g.g=(d+c)/(d-c),g.n=-(f+e)/(f-e),g.l=f*-2*e/(f-e),g.r=-1,g.b=g.d=g.e=g.h=g.i=g.k=g.j=g.p=g.s=0,g}function B(o,a){var b=o.a,c=o.b,d=o.c,e=o.d,f=o.e,g=o.f,h=o.g,i=o.h,k=o.i,n=o.k,l=o.n,j=o.l,p=o.j,r=o.p,s=o.r,t=o.s;return o.a=b*a.a+c*a.e+d*a.i+e*a.j,o.b=b*a.b+c*a.f+d*a.k+e*a.p,o.c=b*a.c+c*a.g+d*a.n+e*a.r,o.d=b*a.d+c*a.h+d*a.l+e*a.s,o.e=f*a.a+g*a.e+h*a.i+i*a.j,o.f=f*a.b+g*a.f+h*a.k+i*a.p,o.g=f*a.c+g*a.g+h*a.n+i*a.r,o.h=f*a.d+g*a.h+h*a.l+i*a.s,o.i=k*a.a+n*a.e+l*a.i+j*a.j,o.k=k*a.b+n*a.f+l*a.k+j*a.p,o.n=k*a.c+n*a.g+l*a.n+j*a.r,o.l=k*a.d+n*a.h+l*a.l+j*a.s,o.j=p*a.a+r*a.e+s*a.i+t*a.j,o.p=p*a.b+r*a.f+s*a.k+t*a.p,o.r=p*a.c+r*a.g+s*a.n+t*a.r,o.s=p*a.d+r*a.h+s*a.l+t*a.s,o}function nc(b,a){return b.a==a.a&&b.b==a.b&&b.c==a.c&&b.d==a.d&&b.e==a.e&&b.f==a.f&&b.g==a.g&&b.h==a.h&&b.i==a.i&&b.k==a.k&&b.n==a.n&&b.l==a.l&&b.j==a.j&&b.p==a.p&&b.r==a.r&&b.s==a.s}function Q(e,a,b,c,d){e.h=e.h+a|0,e.i=e.i+b|0,
e.k=e.k+c|0,d||(e.n=e.h,e.l=e.i,e.j=e.k)}function Y(e,a){for(var b=Math.min(e.h,e.n),h=Math.max(e.h,e.n)+1|0;b<h;b=b+1|0)for(var c=Math.min(e.i,e.l),g=Math.max(e.i,e.l)+1|0;c<g;c=c+1|0)for(var d=Math.min(e.k,e.j),f=Math.max(e.k,e.j)+1|0;d<f;d=d+1|0)oc(e.b,b,c,d,a);ya(e.b)}function oc(f,a,b,c,d){var e=ja(f.a,a,b,c);e^d&&(f.d.push(new xd(a,b,c,e,d)),Aa(f.a,a,b,c,d))}function pc(c){if(ya(c),c.b.length){for(var a=c.b.pop(),d=0,e=a.a,f=e.length;d<f;d=d+1|0){var b=e[d];Aa(c.a,b.a,b.b,b.c,b.d)}c.c.push(a)}}function qc(c){if(ya(c),c.c.length){for(var a=c.c.pop(),d=0,e=a.a,f=e.length;d<f;d=d+1|0){var b=e[d];Aa(c.a,b.a,b.b,b.c,b.e)}c.b.push(a)}}function ya(a){a.d.length&&(a.b.push(new yd(a.d)),Ga(a.c,0,null),a.d=[])}function u(c,a,b){return c.a=a,c.b=b,c}function C(d,a,b,c){return d.a=a,d.b=b,d.c=c,d}function rc(b,a){return b.a=a.a,b.b=a.b,b.c=a.c,b}function sc(b,a){return b.a-=a.a,b.b-=a.b,b.c-=a.c,b}function Xa(b,a){return b.a*=a,b.b*=a,b.c*=a,b}function tc(a){return a.a*a.a+a.b*a.b+a.c*a.c}function uc(a){return Math.sqrt(a.a*a.a+a.b*a.b+a.c*a.c)}
function za(b){var a=uc(b);return a>0&&Xa(b,1/a),b}function xc(f,a,b,c,d){var e=a|b<<3|c<<6;f.d[e]^d&&($a(f),f.d[e]=d)}function _a(b){for(var a=0;a<512;a=a+1|0)if(b.d[a])return!1;return!0}function $a(a){var c,b;(b=a.f)&&sa(b),(c=a.g)&&sa(c),a.f=a.g=null}function yc(b,a){return b.f||(b.f=ab(b,a,0)),b.f}function zc(b,a){return b.g||(b.g=ab(b,a,1)),b.g}function ab(U,a,b){q.c=0;for(var c=U.a,d=U.b,e=U.c,f=U.d,g=0;g<8;g=g+1|0)for(var h=0;h<8;h=h+1|0)for(var i=0;i<8;i=i+1|0){var k=f[h|g<<3|i<<6];k&&(!b||!g||!f[h|g-1<<3|i<<6])&&S(U,c+h|0,d+g|0,e+i|0,(c+h|0)+.5,(d+g|0)+.5,(e+i|0)+.5,1,4,k)}for(var n=0;n<8;n=n+1|0)for(var l=n^7,j=0;j<8;j=j+1|0)for(var p=0;p<8;p=p+1|0){var r=f[j|l<<3|p<<6];r&&(!b||l==7||!f[j|l+1<<3|p<<6])&&S(U,c+j|0,(d+1|0)+l|0,e+p|0,(c+j|0)+.5,(d+l|0)+.5,(e+p|0)+.5,4,1,r)}for(var s=0;s<8;s=s+1|0)for(var t=0;t<8;t=t+1|0)for(var o=0;o<8;o=o+1|0){var w=f[s|t<<3|o<<6];w&&(!b||!s||!f[s-1|t<<3|o<<6])&&S(U,c+s|0,d+t|0,e+o|0,(c+s|0)+.5,(d+t|0)+.5,(e+o|0)+.5,4,2,w)}for(var G=0;G<8;G=G+1|0)for(var K=G^7,x=0;x<8;x=x+1|0)for(var N=0;N<8;N=N+1|0){
var ka=f[K|x<<3|N<<6];ka&&(!b||K==7||!f[K+1|x<<3|N<<6])&&S(U,(c+K|0)+1|0,d+x|0,e+N|0,(c+K|0)+.5,(d+x|0)+.5,(e+N|0)+.5,2,4,ka)}for(var P=0;P<8;P=P+1|0)for(var M=0;M<8;M=M+1|0)for(var H=0;H<8;H=H+1|0){var A=f[M|H<<3|P<<6];A&&(!b||!P||!f[M|H<<3|P-1<<6])&&S(U,c+M|0,d+H|0,e+P|0,(c+M|0)+.5,(d+H|0)+.5,(e+P|0)+.5,2,1,A)}for(var z=0;z<8;z=z+1|0)for(var ba=z^7,Z=0;Z<8;Z=Z+1|0)for(var _=0;_<8;_=_+1|0){var eb=f[Z|_<<3|ba<<6];eb&&(!b||ba==7||!f[Z|_<<3|ba+1<<6])&&S(U,c+Z|0,d+_|0,(e+1|0)+ba|0,(c+Z|0)+.5,(d+_|0)+.5,(e+ba|0)+.5,1,2,eb)}return qa(a,gb,da(q))}function S(K,a,b,c,d,e,f,g,h,i){var k=a+(g&1)|0,n=b+(g>>1&1)|0,l=c+(g>>2)|0,j=a+(h&1)|0,p=b+(h>>1&1)|0,r=c+(h>>2)|0,s=(k+j|0)-a|0,t=(n+p|0)-b|0,o=(l+r|0)-c|0,w=(Wc(a,g&1)+Wc(b,g>>1&1)|0)+Wc(c,g>>2)|0,G=(Wc(a,h&1)+Wc(b,h>>1&1)|0)+Wc(c,h>>2)|0;m(q,a),m(q,b),m(q,c),m(q,d),m(q,e),m(q,f),L(q,(w%3+3|0)%3*85|(G%3+3|0)%3*85<<8|i<<16),m(q,k),m(q,n),m(q,l),m(q,d),m(q,e),m(q,f),L(q,((w%3+3|0)%3+1|0)*85|(G%3+3|0)%3*85<<8|i<<16),m(q,s),m(q,t),m(q,o),m(q,d),m(q,e),m(q,f),L(q,((w%3+3|0)%3+1|0)*85|((G%3+3|0)%3+1|0)*85<<8|i<<16),
m(q,a),m(q,b),m(q,c),m(q,d),m(q,e),m(q,f),L(q,(w%3+3|0)%3*85|(G%3+3|0)%3*85<<8|i<<16),m(q,s),m(q,t),m(q,o),m(q,d),m(q,e),m(q,f),L(q,((w%3+3|0)%3+1|0)*85|((G%3+3|0)%3+1|0)*85<<8|i<<16),m(q,j),m(q,p),m(q,r),m(q,d),m(q,e),m(q,f),L(q,(w%3+3|0)%3*85|((G%3+3|0)%3+1|0)*85<<8|i<<16)}function R(n,a,b,c,d,e,f){for(var g=c;g<=f;g=g+1|0)for(var h=b;h<=e;h=h+1|0)for(var i=a;i<=d;i=i+1|0){var k=ja(n,i,h,g);if(k&&k^4)return!1}return!0}function ja(e,a,b,c){var d=D(e.c,a>>3&2047|b<<8&2095104|c<<18&-2097152,null);return d?d.d[a&7|(b&7)<<3|(c&7)<<6]:0}function Aa(h,a,b,c,d){var e=a>>3&2047|b<<8&2095104|c<<18&-2097152,f=h.c,g=D(f,e,null);!g&&d&&Za(a,b,c)&&(g=new Cd(a&-8,b&-8,c&-8),f[e]=g,h.d.push(g)),g&&xc(g,a&7,b&7,c&7,d)}function vc(j,a,b,c){for(var p=0,r=j.d,s=r.length;p<s;p=p+1|0){var d=r[p];d.e=tc(sc(C(Tc,d.a+4,d.b+4,d.c+4),b))}for(var e=j.d.length,f=1;f<e;f=f+1|0){for(var g=j.d[f],h=f-1|0;h>-1&&j.d[h].e>g.e;)j.d[h+1|0]=j.d[h],h=h-1|0;j.d[h+1|0]=g}for(var i=Math.sqrt(3)*4,k=c.i*b.a+c.k*b.b+c.n*b.c,t=0,o=j.d,w=o.length;t<w;t=t+1|0){
var n=o[t],l=c.i*(n.a+4)+c.k*(n.b+4)+c.n*(n.c+4);l-i>k||$(j.a,1,a,l+i+3<k?zc(n,j.b):yc(n,j.b),1)}}function Ya(k,a){for(var b=0,n=16;b<n;b=b+1|0)if((a.d+1|0)>a.c||'webglvrlevel\x01\0\0\0'.charCodeAt(b)^Na(a))return!1;if((a.d+4|0)>a.c)return!1;var c=fa(a);if((a.d+Wc(c,524)|0)>a.c)return!1;for(var l=0,j=k.d,p=j.length;l<p;l=l+1|0){var d=j[l];$a(d)}for(k.c={},k.d=[];c>0;){var e=fa(a)<<3,f=fa(a)<<3,g=fa(a)<<3;if(!Za(e,f,g))return!1;for(var h=new Cd(e,f,g),i=0;i<512;i=i+1|0)h.d[i]=Na(a);k.c[e>>3&2047|f<<8&2095104|g<<18&-2097152]=h,k.d.push(h),c=c-1|0}return!0}function wc(g){for(var a=new bd,b=0,h=0,i=g.d,k=i.length;h<k;h=h+1|0){var c=i[h];_a(c)||(b=b+1|0)}for(var d=0,n=16;d<n;d=d+1|0)Ma(a,'webglvrlevel\x01\0\0\0'.charCodeAt(d));ea(a,b);for(var l=0,j=g.d,p=j.length;l<p;l=l+1|0){var e=j[l];if(!_a(e)){ea(a,e.a>>3),ea(a,e.b>>3),ea(a,e.c>>3);for(var f=0;f<512;f=f+1|0)Ma(a,e.d[f])}}return a}function Za(a,b,c){return a==a<<18>>18&&b==b<<19>>19&&c==c<<18>>18}function Ca(a){for(var b=[],c=0,d=a.length;c<d;c=c+1|0)b.push(a[c]);
return b}function v(a,b,c){a.addEventListener(b,c)}function T(a){a.preventDefault()}function Ga(c,a,b){for(;c.length<a;)c.push(b);for(;c.length>a;)c.pop()}function Ha(a){return a[a.length-1|0]}function Cb(d,a){for(var b=0,c=0,e=d.length;c<e;c=c+1|0)a(d[c])||(b<c&&(d[b]=d[c]),b=b+1|0);for(;b<d.length;)d.pop()}function Db(c,a){if(c.length^a.length)return!1;for(var b=0,d=c.length;b<d;b=b+1|0)if(c[b]!=a[b])return!1;return!0}function ca(d,a,b){var c=d[a];return c!==void 0?c:b}function D(d,a,b){var c=d[a];return c!==void 0?c:b}function Bb(a,b,c){return a<b?b:a>c?c:a}function Ac(a){try{return a.getContext('2d')}catch(b){}return null}function Fc(c){var a=c,b=a.mozRequestPointerLock||a.requestPointerLock;b&&b.call(c)}function Gc(c,a){var b=null;try{b=c.getContext('webgl',a)}catch(d){}try{b||(b=c.getContext('experimental-webgl',a))}catch(e){}return b}function bb(){var a=this.performance;return a&&a.now?a.now():+new Date}function Bc(a){return a.orientation||0}function cb(b){var a=b;return a.mozPointerLockElement||(a.pointerLockElement||null)}
function Cc(a){return a.mozMovementX|a.movementX|0}function Dc(a){return a.mozMovementY|a.movementY|0}function Ec(c){var a=c,b=a.webkitRequestFullscreen||(a.mozRequestFullScreen||a.requestFullscreen);b&&b.call(c)}function Yc(a,b){this.a=this.b=this.c=this.d=this.e=null,this.f=F.getElementById('instructions'),this.g=this.h=this.i=this.k=this.n=this.l=null,this.j=new vd,this.p=0,this.r=new ud,this.s=new ud,this.t=new Ad,this.o=new ud,this.w=this.G=this.K=this.x=this.N=this.ka=0,this.P=!1,this.M=this.H=this.A=0,this.a=a,this.b=new Zc(a),this.c=wb(a,Hc,'texture.png'),this.d=new rd(a,this.b),this.e=new Bd(a,this.b),Ya(this.e,new bd.La(b)),this.g=new Sc(this.e),this.h=new Rc(this.e),this.k=new nd(this.a,this);var c=Uc.userAgent.indexOf('Mobi')!=-1;this.i=c?this.g:this.h,this.f.style.display=c?'none':'block'}function ad(a,b,c,d,e,f){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e,this.f=f}function bd(){this.a=this.b=null,this.c=this.d=0,this.b=new Float32Array(256),this.a=new Uint8Array(this.b.buffer)}bd.La=function(a){
this.a=this.b=null,this.d=0,this.c=a.length,this.b=new Float32Array(this.c+3>>2),this.a=new Uint8Array(this.b.buffer),this.a.set(a)};bd.La.prototype=bd.prototype;function nd(a,b){this.a=this.b=null,this.c=new ud,this.d=null,this.a=a,this.b=b,this.d=pa(a,gb,'precision highp float;uniform mat4 s,t;uniform vec4 h;attribute vec3 g,e;attribute vec4 c;varying vec2 i;varying vec4 j;vec4 q(){return t*s*vec4(mix(e,g,clamp(dot(h.xyz,g)-h.w,0.,1.)),1);}vec4 o(){return c.z<.005882?vec4(.75,.5,.25,1):c.z<.009804?vec4(1,1,0,1):c.z<.013725?vec4(.75,.75,.75,1):c.z<.017647?vec4(0,.25,.75,1):vec4(1);}void main(){j=o(),i=c.xy,gl_Position=q();}','precision highp float;uniform sampler2D w;varying vec2 i;varying vec4 j;void main(){vec4 a=texture2D(w,i);gl_FragColor=j*(1.-.1*float(a.x>.6));}')}nd.prototype.qb=function(){var a=this.a;mc(this.c,1.0471975511965976,a.K/a.p,1,100),Ea(a,0),a.i=2,V(a,1,0,1,0,0),na(this.b,0,this.c,this.d)};function od(a,b,c){this.a=this.b=null,this.c=(db=Ua())||hb,this.d=new ud,this.e=this.f=null,this.g=new ud,
this.h=cc,this.i=this.k=null,this.a=a,this.b=b,this.f=pa(a,Eb,'precision highp float;uniform float k;attribute vec3 e;varying float u;void main(){u=e.z,gl_Position=vec4(e.x*k,e.y,0,1);}','precision highp float;varying float u;void main(){gl_FragColor=vec4(u);}'),this.i=pa(a,gb,'precision highp float;uniform mat4 s,t;uniform vec4 h,n,f,m,l;uniform float k;attribute vec3 g,e;attribute vec4 c;varying vec2 i;varying vec4 j;vec4 q(){return t*s*vec4(mix(e,g,clamp(dot(h.xyz,g)-h.w,0.,1.)),1);}vec4 o(){return c.z<.005882?vec4(.75,.5,.25,1):c.z<.009804?vec4(1,1,0,1):c.z<.013725?vec4(.75,.75,.75,1):c.z<.017647?vec4(0,.25,.75,1):vec4(1);}void main(){vec4 a=q();float b=abs(a.w),r=mix(n.x,n.z,(.5+a.x/b*.5*k-m.x)/m.z),p=mix(n.w,n.y,(.5+a.y/b*.5-m.y)/m.w),d=r*r+p*p,v=1.+d*(l.x+d*(l.y+d*(l.z+d*l.w)));a.x=((r*v-f.x)/(f.z-f.x)*2.-1.)*b*k,a.y=((p*v-f.w)/(f.y-f.w)*2.-1.)*b,j=o(),i=c.xy,gl_Position=a;}','precision highp float;uniform sampler2D w;varying vec2 i;varying vec4 j;void main(){vec4 a=texture2D(w,i);gl_FragColor=j*(1.-.1*float(a.x>.6));}');
var d=this.h,e=this.c,f=Ta(d),g=gc(d,e),h=hc(d,e),i=ic(d,e,h);i[0]=i[0]*2,i[2]=i[2]*2,W(this.i,'l',f[0],f[1],f[2],f[3]),W(this.i,'n',g[0],g[1],g[2],g[3]),W(this.i,'f',h[0],h[1],h[2],h[3]),W(this.i,'m',i[0],i[1],i[2],i[3]),Wa(this.d,g[0]*1,g[2]*1,g[3]*1,g[1]*1,1,100),wa(this.g,this.d),this.g.c=-this.g.c,this.k=function(k){var n=g[0]+(g[2]-g[0])*k.a,l=g[3]+(g[1]-g[3])*k.b,j=Math.sqrt(n*n+l*l),p=E(f,j)/j;k.a=i[0]+i[2]*(n*p-h[0])/(h[2]-h[0]),k.b=i[1]+i[3]*(l*p-h[3])/(h[1]-h[3])},this.e=qa(c,Eb,da(bc(this.k)))}od.prototype.qb=function(){var a=this.a,b=a.K,c=a.p;Ea(a,0),aa(this.i,'k',1),oa(a,0,0,b/2|0,c),a.i=2,V(a,1,0,1,0,0),na(this.b,1,this.d,this.i),aa(this.f,'k',1),a.i=0,V(a,0,2,0,2,0),$(a,2,this.f,this.e,0),aa(this.i,'k',-1),oa(a,b/2|0,0,(b+1|0)/2|0,c),a.i=2,V(a,1,0,1,0,0),na(this.b,2,this.g,this.i),aa(this.f,'k',-1),a.i=0,V(a,0,2,0,2,0),$(a,2,this.f,this.e,0)};function rd(a,b){this.a=a,this.b=b}function ud(){this.a=1,this.b=this.c=this.d=this.e=0,this.f=1,this.g=this.h=this.i=this.k=0,this.n=1,this.l=this.j=this.p=this.r=0,
this.s=1}function vd(){this.a=new Ad,this.b=this.c=!1}function Rc(a){this.a=this.b=null,this.c=C(new Ad,.5,.5,.5),this.d=this.e=this.f=this.g=this.h=this.i=this.k=this.n=this.l=this.j=0,this.a=a,this.b=new wd(a)}la=Rc.prototype;la.Da=function(){return this.c};la.rb=function(a){this.h=this.n=Math.floor(a.a)|0,this.i=this.l=Math.floor(a.b)|0,this.k=this.j=Math.floor(a.c)|0,C(this.c,this.h+.5,this.i+.5,this.k+.5)};la.sb=function(a,b){switch(a){case 7:case 3:Q(this,-this.f|0,0,-this.g|0,b);break;case 10:case 5:Q(this,this.f,0,this.g,b);break;case 11:Q(this,0,1,0,b);break;case 23:Q(this,0,-1,0,b);break;case 25:case 6:Q(this,-this.d|0,0,-this.e|0,b);break;case 29:case 4:Q(this,this.d,0,this.e,b);break;case 0:Y(this,0);break;case 1:pc(this.b);break;case 2:qc(this.b);break;case 34:Y(this,1);break;case 35:Y(this,3);break;case 36:Y(this,4);break;case 37:Y(this,2);break}};la.tb=function(a){var b=ja(this.a,this.h,this.i,this.k)?-.01:.01;Va(a,Math.min(this.h,this.n)+b,Math.min(this.i,this.l)+b,Math.min(this.k,this.j)+b,(Math.max(this.h,
this.n)+1|0)-b,(Math.max(this.i,this.l)+1|0)-b,(Math.max(this.k,this.j)+1|0)-b,-1)};la.ub=function(a,b,c){this.d=this.e=this.f=this.g=0,Math.abs(b.i)>Math.abs(b.n)?b.i>0?(this.d=this.g=-1):(this.d=this.g=1):b.n>0?(this.e=-1,this.f=1):(this.e=1,this.f=-1);var d=1-Math.pow(1e-08,c);this.c.a+=(this.h+.5-this.c.a)*d,this.c.b+=(this.i+.5-this.c.b)*d,this.c.c+=(this.k+.5-this.c.c)*d};function Sc(a){this.a=a,this.b=new ad(.1,0,.1,.8,.8,.8),this.c=new Ad,this.d=new Ad,this.e=new Ad,this.f=new Ad,this.g=new Ad,this.h=0,this.i=!1}la=Sc.prototype;la.Da=function(){return C(this.c,Ja(this.b),Mb(this.b),Ka(this.b))};la.rb=function(a){this.b.a=a.a-this.b.d/2,this.b.b=a.b-this.b.e/2,this.b.c=a.c-this.b.f/2};la.sb=function(a,b){};la.tb=function(a){Va(a,this.b.a+.01,this.b.b+.01,this.b.c+.01,this.b.a+this.b.d-.01,this.b.b+this.b.e-.01,this.b.c+this.b.f-.01,-1)};la.ub=function(a,b,c){this.i&&(C(this.d,a.a.a,0,a.a.c),a.b&&(this.d.c-=1),za(C(this.f,b.i,0,b.n)),za(C(this.g,b.a,0,b.c)),C(this.d,this.f.a*this.d.c+this.g.a*this.d.a,0,
this.f.c*this.d.c+this.g.c*this.d.a)),Xa(za(rc(this.e,this.d)),c*6),this.i&&ja(this.a,Math.floor(Ja(this.b))|0,(Math.floor(this.b.b)|0)-1|0,Math.floor(Ka(this.b))|0)==2?(this.h=10,this.i=!1):this.h-=c*16;var d=this.b.a+this.e.a,e=this.b.b+this.h*c,f=this.b.c+this.e.c;Nb(this.b,this.a,this.e.a,this.h*c,this.e.c),this.b.a!=d&&(this.d.a=0),this.b.c!=f&&(this.d.c=0),this.b.b!=e?(this.h=-.002/c,this.i=this.h<0):this.i=!1};function wd(a){this.a=a,this.b=[],this.c=[],this.d=[]}function zd(){this.a=this.b=0}function Ad(){this.a=this.b=this.c=0}function Bd(a,b){this.a=a,this.b=b,this.c={},this.d=[]}function Xc(){this.a=[],this.b=0}function Zc(a){this.a=a,this.b=[]}function _c(a,b){this.a=a,this.b=b,this.c=[],this.d=0}function $c(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.e=!1}function ld(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function md(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function cd(){var f=this;if(f.a=0,f.b=0,f.c=null,f.d=65537,f.e=[],f.f=!1,f.g=null,f.h=[0,0,0,0],f.i=2,f.k=null,f.n=!0,f.l=1,f.j=null,
f.p=0,f.r=null,f.s=0,f.t=65537,f.o=0,f.w=null,f.G=[0,0,0,0],f.K=0,f.x=null,f.j=Gc(F.createElement('canvas'),{alpha:!1,antialias:!1,preserveDrawingBuffer:!1,stencil:!1}),!f.j)throw new Error('Could not initialize WebGL');var a=function(){return f.j.getExtension('OES_standard_derivatives')},b=f.j.canvas,c=b.style;b.width=b.height=0,c.display='block',c.left=c.top='0',c.width=c.height='100%',v(b,'webglcontextlost',function(d){T(d)}),v(b,'webglcontextrestored',function(){a(),f.a=0,f.f=!1,f.n=!0,f.l=f.l+1|0;for(var g=0,h=f.e,i=h.length;g<i;g=g+1|0){var e=h[g];e()}}),f.c={0:0,1:1,2:768,3:774,4:769,5:775,6:770,7:772,8:771,9:773,10:32769,11:32770},f.k={0:9728,1:9729,2:9987},a(),f.x=new kd(f,Ic,1,1,new Uint8Array(4))}function dd(a,b){this.a=a,this.b=b,this.c=0,this.d=null,this.e=!0}function ed(a,b){dd.call(this,a,b),this.f=0}Vc(ed,dd);ed.prototype.pb=function(){var a=this.a.a;(this.c^a.l||this.e)&&(a.j.uniform1f(ha(this),this.f),this.e=!1)};function fd(a,b){dd.call(this,a,b),this.g=this.h=this.i=this.k=0}Vc(fd,dd);fd.prototype.pb=function(){
var a=this.a.a;(this.c^a.l||this.e)&&(a.j.uniform4f(ha(this),this.g,this.h,this.i,this.k),this.e=!1)};function gd(a,b){dd.call(this,a,b),this.n=new ud}Vc(gd,dd);gd.prototype.pb=function(){var a=this.a.a,b=this.n;(this.c^a.l||this.e)&&(I[0]=b.a,I[1]=b.e,I[2]=b.i,I[3]=b.j,I[4]=b.b,I[5]=b.f,I[6]=b.k,I[7]=b.p,I[8]=b.c,I[9]=b.g,I[10]=b.n,I[11]=b.r,I[12]=b.d,I[13]=b.h,I[14]=b.l,I[15]=b.s,a.j.uniformMatrix4fv(ha(this),!1,I),this.e=!1)};function hd(a,b){dd.call(this,a,b),this.l=null,this.j=-1}Vc(hd,dd);hd.prototype.pb=function(){var a=this.a.a,b=this.l,c=a.j;b||(b=a.x),(this.c^a.l||this.e)&&(c.uniform1i(ha(this),this.j),this.e=!1),c.activeTexture(33984+this.j|0),c.bindTexture(3553,Sa(b))};function id(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.e=fb(null),this.f=[],this.g=0,this.h=null}function jd(a,b){this.b=0,this.c=this.d=null,this.e=!0,this.f=2147483647,this.g=0,this.h=2147483647,this.i=0,this.a=a,this.k=b,this.d=new Uint8Array(b)}function kd(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e,this.f=this.g=null,
this.h=0,this.i=this.k=!0}function pd(a,b,c,d,e){this.a=null,this.b=a,this.c=b,this.d=c,this.e=d,this.f=e}function qd(a,b,c){this.a=a,this.b=b,this.c=c}function xd(a,b,c,d,e){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e}function yd(a){this.a=a}function Cd(a,b,c){this.a=a,this.b=b,this.c=c,this.d=new Uint8Array(512),this.e=0,this.f=this.g=null}var db,Ba=this.window,F=this.document,Uc=this.navigator,Eb=ia(new Xc,'e',0,3),gb=ia(ia(ia(new Xc,'e',0,3),'g',0,3),'c',1,4),Hc=new md(0,1,1,0),Ic=new md(1,0,0,1),I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],cc=new pd(.0393,.0639,[60,60,60,60],.035,[.33582565,.5534879]),Jc=new qd(.11,.062,.004),Kc=new qd(.133,.074,.004),Lc=new qd(.121,.068,.003),Mc=new qd(.075,.05,.0045),Nc=new qd(.089,.05,.0045),hb=new qd(.104,.058,.005),Oc=new qd(.112,.068,.005),J=new bd,Qc=new ud,X=new ud,q=new bd,Tc=new Ad;sd()})();
